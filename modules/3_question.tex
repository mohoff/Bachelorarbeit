\documentclass[../main.tex]{subfiles}
\begin{document}

\chapter{Fragestellungen / Ziel der Arbeit}
\label{question}
  Die Wertschöpfung moderner IT-Unternehmen beruht auf dem Angebot von Diensten, auch Services genannt, die über das Internet den Nutzern zur Verfügung gestellt werden. Die Services werden von Anwendungen angeboten, die selbst in Rechenzentren betrieben werden. Der überwiegende Vermögensgegenstand in diesem Modell ist die Software, die in den Rechenzentren produktiv läuft. Der Wert dieser ist direkt abhängig von der Funktionstüchtigkeit eines Rechenzentrums. Je nach Anwendungsfall kommt den Sicherheitszielen aus Kapitel \ref{secGoals} unterschiedliche Wichtigkeit zu.

  Kunden, die ihr Produkt über Rechenzentren anbieten sind an Sicherheitsfeatures interessiert, die die drei Sicherheitsziele sicherstellen. Die Betreiber von Rechenzentren wiederum müssen diese Nachfrage befriedigen, wollen jedoch gleichzeitig auch selbst Gewinn machen. Durch den Betrieb von Containern in Rechenzentren kann im Vergleich zu Hypervisorlösungen theoretisch mehr Gewinn geschöpft werden, da sich mit ihnen - bei gleicher Hardware - mehr virtuelle Kapazität realisieren lässt. Die Sicherheit virtueller Instanzen darf im Betrieb von Containern jedoch nicht leiden, um weiterhin den Kundenanforderungen zu entsprechen.

  Die erste zentrale Frage ist demnach, in wie weit Container sicher sind, um für Kundenservices in Rechenzentren eingesetzt zu werden. Diese stark verallgemeinerte Fragestellung kann anhand einer Risikoanalyse, wie sie z.B. nach Mandl in \cite[S.36]{CISSP} beschrieben ist, genauer formuliert werden:

  \textbf{Identifikation der Vermögensgegenstände}: Für Betreiber von Rechenzentren der sichere und zuverlässige Betrieb von Kundensoftware. Gewährleistung von Vertraulichkeit, Integrität und Verfügbarkeit gegeünber allen Kunden.

  \textbf{Identifikation der Bedrohungen}: Die verschiedenen Bedrohungsarten können auf Basis eines Systemmodells von containerbasierter Virtualisierung identifiziert werden.

  \emph{Systemmodell}
    Hat sich gewandelt: Bei Hypervisorn sieht es anders aus wie bei Containern. Während nach \cite[S.125]{CISSP} virtuelle Maschinen als eigener Sicherheitsmechanismus des Betriebssystems aufgelistet ist, stimmt das für die Containersysteme und deren Design nicht mehr. Andere Sicherheitsfeatures des Hosts, die ab Kapitel \ref{} vorgestllt werden, müssen aktiviert oder verstärkt werden, um die Containersicherheit zu erhöhen.

  \emph{Identifikation der Bedrohungen}
  - Unterteilung in Systemsicherheit und Netzwerksicherheit

  - Container compromise: compromise C k ∈ C by means of illegitimate
  data access, Man-in-the-Middle (MitM) attacks or by affecting the control
  flow of instructions executed in C k ∈ C.
  - Denial of Service: disturb normal operation of the host or C k ∈ C.
  - Privilege escalation: obtain a privilege not originally granted to a C j ∈ C.


  \textbf{Bestimmung der Auswirkungen potenzieller Risiken:}
    Es muss generischer Ansatz gewählt werden, da jeder Kunde andere Sicherheitsanforderungen im Detail hat. Demnach können Schwachstellen, die die Vertraulichkeit, die Integrität oder Verfügbarkeit der Kundensoftware bedrohen, fatale Folgen für den Umsatz und die Reputation der Kunden und Betreiber von Rechenzentren ergeben.

  \textbf{Gegenmaßnahmen:} % um Bedrohungspotential zu minimieren.
    Welche Sicherheitsmodelle und -mechanismen können eingesetzt werden, um Bedrohungspotential von aufgeführten Gefahrenquellen zu minimieren.
    % Ziel der Arbeit: Halten diese CIA-Triade ein? Wie effektiv/weitrechend sind die eingesetzten modelle/mechanismen. Untersuchung der -modelle und -mechanismen in Bezug auf CIA-Traide.
    Einteilung der Kontrollmechanismen in administrative, technische und physische Kontrollen \cite[S.40]{CISSP}:
    \begin{itemize}
      \item \textbf{Administrative Kontrollen:} Enthält Management-Kontrollen, die z.B. durch die Entwicklung einer Sicherheitspolitik, auch Policy genannt, Best Practices oder Sicherheitsschulungen des Personals, umgesetzt werden.
      \item \textbf{Technische Kontrollen:} Umfasst alle hardware- und softwarebasierten Mechanismen, z.B. ein Zugriffsschutz unter Verwendung einer DAC oder MAC. Docker verfolgt eine \emph{Defense in depth}, bei dem verschiedenartige Sicherheitsschichten realisiert werden, um einen bestmöglichsten Schutz zu ermöglichen. Eine Geheimhaltung von technischen Kontrollen, auch \emph{Security through obscurity} genannt, kann nicht praktiziert werden, da Docker und Linux selbst quelloffene Projekte sind.
      \item \textbf{Physische Kontrollen:} Beinhalten Mechanismen wie Sicherheitsschleusen, Schlösser und Wachpersonal. Obwohl ein Bezug zum Betrieb von Rechenzentren hergestellt werden kann, haben physische Kontrollen keine spezifische Relevanz für die containerbasierte Virtualisierung und sind aus diesem Grund an dieser Stelle nur zum Zweck der Vollständigkeit aufgeführt.
    \end{itemize}

  Die vorliegende Arbeit konzentriert sich auf die technischen, softwarebasierten Kontrollen, die von Docker eingesetzt werden. Aber auch administrative Methoden werden in Kapitel \ref{secEcosystem} vorgestellt.
  % Kommt man von Container auf Host-OS? Von Container auf anderen Container? ~etc.
  % 5-6 Sicherheitsziele erwähnen. Mit Forschungsfrage in Bezug bringen --> später bei Isolierung und Ressourcenverwaltung wieder aufgreifen

  % Allgemeiner Überblick zu Docker Security in \cite[S.3]{dockerSeec1}

  % TODO: System Model bauen
  % TODO: Schreiben, dass Container-Verschatelung bzw. Container in Hierarchien  ins Systemmodell absichtlich nicht aufgenommen wurden (was aber in FreeBSD jails moelgich ist).
  %   ^   (vgl. beide  \cite[S.4]{dockerSec2})

  % TODO: virtuelle Maschinen sind nach CISSP-buch Sicherheitsmechanismen fuer sich allein. Mit Containern stimmt das so nicht mehr
  % CISSP-Buch ist aber auch von 2009, bevor Container 2013 mit Docker bekannt waren.

  % TODO: Abgrenzung zu Netzwerkthemen, da das auf Netzebene passiert und Sicherheitsaspekte sind, die in jedem Netzwerk in Betracht gezogen werden müssen --> kein Bezug mehr zu Docker.

  Das zentrale Konzept, auf dem alle Containertechnologien beruhen, ist das der Isolierung. Im Kontext von Containern kann die Isolierung definiert werden als Trennung zwischen Containern und einem Host, sowie die Trennung zwischen Containern \cite[S.1]{dockerSec2}.

  Auf einem System mit Host und einem oder mehreren Containern, stellt sich zunächst die Frage welche Art und Richtung von Kommunikation zwischen diesen beiden Komponenten erlaubt und nicht erlaubt sein soll. Dadurch, dass der Docker-Daemon auf dem Host läuft und es dessen Aufgabe ist u.a. den Container-Lifecycle zu kontrollieren, braucht dieser Zugriff auf die Container. Verallgemeinert ist also die Kommunikation von Host zu Container erforderlich und damit erlaubt.

  Was in einem Container passiert, ist zweitrangig, da der Container bei Fehlfunkionen jederzeit seitens des Hosts neu gestartet werden kann. Wichtig ist aber, dass der Container selbst von der Außenwelt, also dem Host und anderen Container, isoliert ist und seine Aufrufe gegen den Hostkernel streng limitiert sind und diese den Host nicht beeinträchtigen können.

  Mehrere Sicherheitsfragen für Container-basierte Systeme sind in den folgenden Punkten formuliert. Sie beruhen auf der Annahme, dass ein Angreifer die Kontrolle über einen Container X übernommen hat und versucht, über diesen Schaden zu verursachen.

  Situationen, in denen ein Angreifer bereits zu Beginn die Kontrolle über den Host hat, werden nicht betrachtet, da der Angreifer in dieser Lage bereits gewonnen hat und Container nach belieben manipulieren kann.

  \begin{enumerate}[(1)]
    \item Ist es dem Angreifer möglich, seine in X erworbenen Rechte auf den Hosts zu erweitern, sodass er auf letzteren Root-Rechte erwirken kann? (Verletzte Sicherheitsziele: Vertraulichkeit, Authenzität, Integrität)
    \item Ist es dem Angreifer möglich, auf einen anderen Container Y des gleichen Hosts zuzugreifen? (Verletzte Sicherheitsziele: Vertraulichkeit, Authenzität, Integrität)
    \item Ist es dem Angreifer möglich, den Container oder Host auf eine Art und Weise zu beeinflussen, die den Betrieb anderer Container auf diesem oder entfernten Hosts beeinträchtigt? (Verletzte Schutzziele: Verfügbarkeit, Integrität) (Ressourcenverwaltung)
    \item Ist es dem Angreifer möglich, den Container X negativ zu beeinflussen oder ihn zum Absturz zu bringen? (Lifecyclemanagement des Docker-Hosts)
    \item Wie wird natürlichen Fehlfunktionen von Containern entgegengewirkt? (Lifecyclemanagement des Docker-Hosts)
          % Also wenn plötzlich Exception auftritt und Containeranwendung abstürzt.
    \item \emph{weitere Punkte?}
  \end{enumerate}

  Frage (1.) und (2.) zielen auf technischer Ebene auf die Isolation der Container ab. Eine Umformulierung in \glqq{}Sind Container ausreichend isoliert, um den Host zu schützen?\grqq{} ist möglich.

  Wenn von der Netzwerkseite abgesehen wird, lässt sich das Szenario der Fragestellung (2.) auf das der Frage (1.) reduzieren, da der Zugriff auf andere Container nur über den lokalen Host möglich ist. Genauer gesagt ist der Zugriff auf andere Prozesse nur dann möglich, wenn Root-Rechte auf dem Host vorhanden sind. Die bereits generalisierten Sicherheitsfrage ist in (A.) unter Berücksichtigung dieses Punkts, erweitert

  Die Fragen (3.), (4.) und (5.) teilen sich den Aspekt der Verfügbarkeit, der in Formulierung (B.) aufgegriffen wird.

  ----

  Finale Umformulierungen und Generalisierungen:

  \begin{enumerate}[(A)]
    \item Sind Container ausreichend isoliert, sodass ausgehend von Containern keine Root-Rechte auf dem Hostsystem erwirkt werden können?
    \item Kann der Betrieb von Containern negativ beeinflusst werden, sodass die Verfügbarkeit von Anwendungen darunter leidet?
    \item \emph{weitere Punkte?}
  \end{enumerate}

  %, ob aus Containern ausgebrochen werden kann (1) und ob von einem Container X Zugriff auf einen Container Y auf dem gleichen Host möglich ist (2). Ist es unter der Annahme, dass ein Angreifer Zugriff auf einen Container erlangt, möglich, seine Rechte zu eskalieren und Root-Rechte auf dem Host zu erlangen? Diese Herausforderung spielt auch bei Frage (2) die entscheidene Rolle, da ein Zugriff auf andere Container erst mit einer Kompromitierung des Hosts möglichst ist. Aus diesem Grund genügt es, Frage (1) zu beantworten, da durch eine Antwort der selben auch die erweiterte Fragestellung (2) zufriedenstellend beantwortet werden kann.

  % Von entscheidender Bedeutung ist diese Frage, weil ihre Beantwortung die Existenzgrundlage für Container und damit auch Docker bildet. Gäbe es keine Methodeberuht. Wäre die Frage im Produkt Docker nicht beantwortet,

  \emph{ALT:}


  % Technische Sicherheit
  Um Frage (1.) zu beantworten, wird im ersten Hauptkapitel die intrinsische Sicherheit von Docker untersucht. Damit ist eine Reihe von Sicherheitsfeatures des Linux Kernels gemeint, die u.a. Docker nutzt, um nach Aussage von \emph{Docker} sichere Container zu ermöglichen. Genauer werden Mechanismen zur Isolation, Ressourcen- und Zugriffsverwaltung betrachtet, da sie direkt mit den erwünschten Sicherheitszielen aus Kapitel \ref{introSecGoals} in Bezug stehen.

  Des Weiteren stellt sich die Frage, ob die Arbeit mit Docker und seinen Containern sicher ist. Wie in der \hyperref[dockerIntro]{Einführung zu Docker} beschrieben, stellt Docker zusammen mit anderen Anbietern einen Workflow und eine Palette an Tools zur Verfügung, die die Arbeit mit Containern erleichtern sollen. Wie diese Tools zur Sicherheit bzw. Angreifbarkeit von Docker-Systemen beitragen, wird im Kontext von den Sicherheitszielen betrachtet.
  % Technische und administrative Sicherheit

  Nicht betrachtet werden die Sicherheitsrisiken, die sich durch den Betrieb eines Rechnernetzwerks ergeben, in dem Docker-Knoten existieren. Sicherheit aus Sicht der Netzwerktechnik und den verschiedenen \acrshort{OSI}-Schichten ist nicht Gegenstand der Untersuchung.

  % TODO: einarbeiten: Siehe \cite[S.3]{virtVSContainer} ... rechts oben ..

  % Da Images aud dem Docker Hub malicious sein koennen ,,,, arbitray code ausgefuehrt wird ...
  % kann auch ein Container, der diesen Code ausfuehrt, nicht vertraut werden /--> kann malicious werden (boesartig, boese absichten verfolgen)

\end{document}
